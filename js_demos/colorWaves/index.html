<!DOCTYPE html>
<html>
<head>
  <meta charset = "utf-8">
    <title>color waves</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

    <canvas id='canvas' width='500' height='500'>
    </canvas>

    <script src="utils.js"></script>
    <script src="colorWaves.js"></script>
    <script>
      //utils.setCanvas(window);
      window.onload = function () {
        var canvas = document.getElementById('canvas');
        var context = canvas.getContext('2d');
        var colors = new ColorWave(context, canvas.width, canvas.height);

        window.addEventListener('keypress', function (e) {
          //up
          if (e.keyCode == 38) {
              colors.frequency += 0.1;
          }
          //down
          else if (e.keyCode == 40) {
              colors.frequency -= 0.1; 
          }
          //left
          else if (e.keyCode == 39) {
              colors.phaseShift += 0.1;              
          }
          //right
          else if (e.keyCode == 37) {
              colors.phaseShift -= 0.1;
          }
        }, false);


      (function drawFrame () {
        utils.getAnimationFrame();
        window.requestAnimationFrame(drawFrame, canvas);
        colors.draw();
       

      }());
    };
    </script>
  </body>
  </html>